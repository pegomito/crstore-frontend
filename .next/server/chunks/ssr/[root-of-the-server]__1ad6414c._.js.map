{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file:///home/usuarios/crstore/crstore-frontend/src/utils/axios.js"],"sourcesContent":["import axios from 'axios';\n\nconst api = axios.create({\n    baseURL: 'http://localhost:3333'\n});\n\napi.interceptors.request.use(\n    (config) => {\n        const token = localStorage.getItem('token');\n        if (token) {\n            config.headers.Authorization = `Bearer ${token}`;\n        }\n        return config;\n    },\n    (error) => {\n        return Promise.reject(error);\n    }\n);\n\nexport default api;"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,MAAM,qIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACrB,SAAS;AACb;AAEA,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CACxB,CAAC;IACG,MAAM,QAAQ,aAAa,OAAO,CAAC;IACnC,IAAI,OAAO;QACP,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;IACpD;IACA,OAAO;AACX,GACA,CAAC;IACG,OAAO,QAAQ,MAAM,CAAC;AAC1B;uCAGW","debugId":null}},
    {"offset": {"line": 135, "column": 0}, "map": {"version":3,"sources":["file:///home/usuarios/crstore/crstore-frontend/src/components/LoginInput.jsx"],"sourcesContent":["'use client';\nimport { Input, Button, Stack } from \"@chakra-ui/react\";\nimport { useState } from \"react\";\nimport { toaster } from \"@/components/ui/toaster\";\nimport axios from \"@/utils/axios\";\n\nexport default function LoginInput({ onLoginSuccess }) {\n  const [formData, setFormData] = useState({\n    email: \"\",\n    password: \"\",\n  });\n\n  const handleChange = (e) => {\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n  };\n\n  const handleLogin = async () => {\n    const { email, password } = formData;\n\n    if (!email || !password) {\n      toaster.create({\n        title: \"Erro\",\n        description: \"Preencha todos os campos obrigatórios!\",\n        type: \"error\",\n      });\n      return;\n    }\n\n    try {\n      const response = await axios.post(\"/users/login\", formData); // Rota correta para login\n      toaster.create({\n        title: \"Sucesso\",\n        description: \"Login realizado com sucesso!\",\n        type: \"success\",\n      });\n      onLoginSuccess(response.data.response); // Passa o token JWT para o pai\n    } catch (error) {\n      toaster.create({\n        title: \"Erro\",\n        description: error.response?.data || \"Erro ao realizar login.\",\n        type: \"error\",\n      });\n    }\n  };\n\n  return (\n    <Stack spacing={4}>\n      <Input\n        name=\"email\"\n        placeholder=\"E-mail\"\n        onChange={handleChange}\n        borderColor=\"white\"\n        _placeholder={{ color: \"white\" }}\n      />\n      <Input\n        name=\"password\"\n        type=\"password\"\n        placeholder=\"Senha\"\n        onChange={handleChange}\n        borderColor=\"white\"\n        _placeholder={{ color: \"white\" }}\n      />\n      <Button onClick={handleLogin} colorScheme=\"blue\">\n        Entrar\n      </Button>\n    </Stack>\n  );\n}"],"names":[],"mappings":";;;;AACA;AAAA;AAAA;AACA;AACA;AACA;AAJA;;;;;;AAMe,SAAS,WAAW,EAAE,cAAc,EAAE;IACnD,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;QACvC,OAAO;QACP,UAAU;IACZ;IAEA,MAAM,eAAe,CAAC;QACpB,YAAY;YAAE,GAAG,QAAQ;YAAE,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,EAAE,EAAE,MAAM,CAAC,KAAK;QAAC;IAC7D;IAEA,MAAM,cAAc;QAClB,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG;QAE5B,IAAI,CAAC,SAAS,CAAC,UAAU;YACvB,mIAAA,CAAA,UAAO,CAAC,MAAM,CAAC;gBACb,OAAO;gBACP,aAAa;gBACb,MAAM;YACR;YACA;QACF;QAEA,IAAI;YACF,MAAM,WAAW,MAAM,qHAAA,CAAA,UAAK,CAAC,IAAI,CAAC,gBAAgB,WAAW,0BAA0B;YACvF,mIAAA,CAAA,UAAO,CAAC,MAAM,CAAC;gBACb,OAAO;gBACP,aAAa;gBACb,MAAM;YACR;YACA,eAAe,SAAS,IAAI,CAAC,QAAQ,GAAG,+BAA+B;QACzE,EAAE,OAAO,OAAO;YACd,mIAAA,CAAA,UAAO,CAAC,MAAM,CAAC;gBACb,OAAO;gBACP,aAAa,MAAM,QAAQ,EAAE,QAAQ;gBACrC,MAAM;YACR;QACF;IACF;IAEA,qBACE,8OAAC,sLAAA,CAAA,QAAK;QAAC,SAAS;;0BACd,8OAAC,sLAAA,CAAA,QAAK;gBACJ,MAAK;gBACL,aAAY;gBACZ,UAAU;gBACV,aAAY;gBACZ,cAAc;oBAAE,OAAO;gBAAQ;;;;;;0BAEjC,8OAAC,sLAAA,CAAA,QAAK;gBACJ,MAAK;gBACL,MAAK;gBACL,aAAY;gBACZ,UAAU;gBACV,aAAY;gBACZ,cAAc;oBAAE,OAAO;gBAAQ;;;;;;0BAEjC,8OAAC,wLAAA,CAAA,SAAM;gBAAC,SAAS;gBAAa,aAAY;0BAAO;;;;;;;;;;;;AAKvD","debugId":null}},
    {"offset": {"line": 264, "column": 0}, "map": {"version":3,"sources":["file:///home/usuarios/crstore/crstore-frontend/src/app/Login/page.js"],"sourcesContent":["'use client'\nimport { Box, Image, Heading, Text, VStack } from \"@chakra-ui/react\";\nimport React from 'react';\nimport LoginInput from \"@/components/LoginInput\";\nimport { Toaster, toaster } from \"@/components/ui/toaster\"\nimport axios from \"@/utils/axios\";\nimport { useRouter } from 'next/navigation';\n\nexport default function LoginPc() {\n  const router = useRouter();\n\n\n  const loginUsuario = async (content) => {\n    router.push('/lobby');\n    try {\n      const response = await axios.post(`/usuario/login`, { ...content });\n      if (response.status == 200) {\n        toaster.create({\n          description: \"Login realizado com sucesso! Redirecionando...\",\n          type: \"success\",\n        });\n        \n\n        localStorage.setItem('token', response.data.response);\n        router.push('/lobby');\n      } else {\n        toaster.create({\n          description: \"Erro ao fazer login!\",\n          type: \"error\",\n        })\n      }\n    } catch (error) {\n      toaster.create({\n        description: \"ERROR!\",\n        type: \"error\",\n      })\n    }\n  }\n\n  const receberDadosdoFilho = async (content) => {\n    await loginUsuario(content)\n  };\n\n\n  return (\n    <Box\n      w=\"100%\"\n      h=\"100vh\"\n      display=\"flex\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n      filter=\"contrast(95%)\"\n      bgGradient=\"to-r\" gradientFrom=\"blue.700\" gradientTo=\"black\" \n      bgSize=\"cover\"\n      bgPosition=\"center\"\n      bgRepeat=\"no-repeat\"\n    >\n      <Box w=\"50%\" display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n        <Image\n          w=\"55%\"\n          src=\"https://www.pngplay.com/wp-content/uploads/13/Jordan-Logo-PNG-Clipart-Background.png\"\n          alt=\"Loading...\"\n        />\n      </Box>\n\n      <Box\n        w=\"50%\"\n        display=\"flex\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n      >\n        <VStack align=\"left\" >\n          <Heading color=\"white\" textAlign=\"left\" as=\"h7\" fontSize={40} fontWeight={600} >\n            Bem-Vindo\n            <span style={{ fontFamily: \"monospace\", fontSize: \"1.2em\", color: \"white\" }} >!</span>\n          </Heading>\n          <Text md=\"6 \" fontSize=\"lg\" color=\"white\" opacity={0.8} >\n            à Loja dos Guri! \n          </Text>\n          <LoginInput mandarDadosdofilho={receberDadosdoFilho} />\n        </VStack>\n      </Box>\n      <Toaster />\n    </Box>\n  );\n} "],"names":[],"mappings":";;;;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AANA;;;;;;;;AAQe,SAAS;IACtB,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAGvB,MAAM,eAAe,OAAO;QAC1B,OAAO,IAAI,CAAC;QACZ,IAAI;YACF,MAAM,WAAW,MAAM,qHAAA,CAAA,UAAK,CAAC,IAAI,CAAC,CAAC,cAAc,CAAC,EAAE;gBAAE,GAAG,OAAO;YAAC;YACjE,IAAI,SAAS,MAAM,IAAI,KAAK;gBAC1B,mIAAA,CAAA,UAAO,CAAC,MAAM,CAAC;oBACb,aAAa;oBACb,MAAM;gBACR;gBAGA,aAAa,OAAO,CAAC,SAAS,SAAS,IAAI,CAAC,QAAQ;gBACpD,OAAO,IAAI,CAAC;YACd,OAAO;gBACL,mIAAA,CAAA,UAAO,CAAC,MAAM,CAAC;oBACb,aAAa;oBACb,MAAM;gBACR;YACF;QACF,EAAE,OAAO,OAAO;YACd,mIAAA,CAAA,UAAO,CAAC,MAAM,CAAC;gBACb,aAAa;gBACb,MAAM;YACR;QACF;IACF;IAEA,MAAM,sBAAsB,OAAO;QACjC,MAAM,aAAa;IACrB;IAGA,qBACE,8OAAC,kLAAA,CAAA,MAAG;QACF,GAAE;QACF,GAAE;QACF,SAAQ;QACR,gBAAe;QACf,YAAW;QACX,QAAO;QACP,YAAW;QAAO,cAAa;QAAW,YAAW;QACrD,QAAO;QACP,YAAW;QACX,UAAS;;0BAET,8OAAC,kLAAA,CAAA,MAAG;gBAAC,GAAE;gBAAM,SAAQ;gBAAO,gBAAe;gBAAS,YAAW;0BAC7D,cAAA,8OAAC,sLAAA,CAAA,QAAK;oBACJ,GAAE;oBACF,KAAI;oBACJ,KAAI;;;;;;;;;;;0BAIR,8OAAC,kLAAA,CAAA,MAAG;gBACF,GAAE;gBACF,SAAQ;gBACR,gBAAe;gBACf,YAAW;0BAEX,cAAA,8OAAC,2LAAA,CAAA,SAAM;oBAAC,OAAM;;sCACZ,8OAAC,6LAAA,CAAA,UAAO;4BAAC,OAAM;4BAAQ,WAAU;4BAAO,IAAG;4BAAK,UAAU;4BAAI,YAAY;;gCAAM;8CAE9E,8OAAC;oCAAK,OAAO;wCAAE,YAAY;wCAAa,UAAU;wCAAS,OAAO;oCAAQ;8CAAI;;;;;;;;;;;;sCAEhF,8OAAC,0LAAA,CAAA,OAAI;4BAAC,IAAG;4BAAK,UAAS;4BAAK,OAAM;4BAAQ,SAAS;sCAAM;;;;;;sCAGzD,8OAAC,gIAAA,CAAA,UAAU;4BAAC,oBAAoB;;;;;;;;;;;;;;;;;0BAGpC,8OAAC,mIAAA,CAAA,UAAO;;;;;;;;;;;AAGd","debugId":null}}]
}